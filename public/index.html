<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kendu Inu Progress</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background-image: url('background.jpg');  /* Use the local image */
            background-size: cover;
            background-position: center;
            color: #fff;
        }
        .wallet-address {
            margin-top: 10px;
            font-size: 1.5em;
            color: gold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            text-align: center;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            font-weight: bold;
            width: fit-content;
        }
        .content {
            width: 80%;
            max-width: 600px;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            margin: 20px;
        }
        h1 {
            font-size: 2.5em;
            color: red;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            animation: fadeInDown 1s ease-in-out;
            text-align: left;
            animation: glow 1.5s infinite;
        }
        h2 {
            font-size: 1.5em;
            margin-top: 20px;
            animation: fadeIn 1s ease-in-out;
            text-align: left;
            color: gold;
        }
        .progress-container {
            margin: 20px 0;
            animation: fadeInUp 1s ease-in-out;
            text-align: left;
        }
        .progress-bar {
            width: 100%;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            overflow: hidden;
            margin: 10px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease-in-out;
            height: 30px;
        }
        .progress-bar:hover {
            transform: scale(1.05);
        }
        .progress-bar div {
            height: 100%;
            background: linear-gradient(90deg, #56ab2f, #a8e063);
            text-align: center;
            line-height: 30px;
            color: white;
            border-radius: 20px;
            transition: width 0.5s ease-in-out;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            position: relative;
        }
        .progress-bar div::after {
            content: '✓';
            position: absolute;
            right: 10px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .progress-bar.complete div::after {
            opacity: 1;
        }
        .info {
            font-size: 1.2em;
            margin-top: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            animation: fadeInUp 1s ease-in-out;
            text-align: left;
        }
        .info p {
            color: gold;
        }
        .message {
            font-size: 1em;
            margin-top: 20px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            animation: fadeInUp 1s ease-in-out;
            text-align: left;
        }
        .links {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: flex-end;
        }
        .links a {
            display: block;
            width: 60px;
            height: 60px;
            overflow: hidden;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }
        .links a img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .links a:hover {
            transform: scale(1.1);
        }

        /* Impact Calculator Styles */
        .impact-calculator {
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            color: white;
            text-align: left;
        }
        .impact-calculator h3 {
            font-size: 1.5em;
            color: gold;
            margin-bottom: 15px;
        }
        .impact-calculator input {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 1em;
        }
        .impact-calculator button {
            width: 100%;
            padding: 10px;
            background-color: #ff4500;
            color: white;
            font-size: 1.2em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .impact-calculator button:hover {
            background-color: #ff6347;
        }
        .impact-result {
            margin-top: 20px;
            font-size: 1.2em;
            color: gold;
        }

        /* Responsive design for smaller screens */
        @media (max-width: 768px) {
            .wallet-address {
                font-size: 1.2em;
                padding: 5px 10px;
            }
            .content {
                width: 90%;
                max-width: 500px;
                margin: 10px;
            }
            h1 {
                font-size: 2em;
            }
            h2 {
                font-size: 1.2em;
            }
            .progress-bar {
                height: 20px;
            }
            .progress-bar div {
                line-height: 20px;
            }
            .info {
                font-size: 1em;
            }
            .message {
                font-size: 0.9em;
            }
            .links a {
                width: 50px;
                height: 50px;
            }
        }

        @media (max-width: 480px) {
            .wallet-address {
                font-size: 1em;
                padding: 5px;
            }
            .content {
                width: 95%;
                max-width: 400px;
                margin: 5px;
            }
            h1 {
                font-size: 1.8em;
            }
            h2 {
                font-size: 1em;
            }
            .progress-bar {
                height: 15px;
            }
            .progress-bar div {
                line-height: 15px;
            }
            .info {
                font-size: 0.9em;
            }
            .message {
                font-size: 0.8em;
            }
            .links a {
                width: 45px;
                height: 45px;
            }
        }
    </style>
</head>
<body>
    <div class="wallet-address">
        <p>Kendu Inu donation wallet address:</p>
        <p><strong>0xD22849fcB4C83389E65a1c40748a9b67157638A3</strong></p>
    </div>
    <div class="content">
        <h1>Kendu Inu</h1>
        <div class="progress-container">
            <h2>USD + ETH Progress</h2>
            <div id="usdtEthProgress" class="progress-bar"><div style="width: 0%;"></div></div>
        </div>
        <div class="progress-container">
            <h2>Kendu Progress</h2>
            <div id="kenduProgress" class="progress-bar"><div style="width: 0%;"></div></div>
        </div>
        <div class="info">
            <p id="missingUsdtEth">Missing USD for Mexc listing: </p>
            <p id="missingKendu">Missing Kendu in USD for Mexc listing: </p>
        </div>
        <div class="message">
            <p>Every Kendu Inu member plays a crucial role in our journey. Together, we are not just building a community—we're laying the foundation for something much bigger. Getting listed on MEXC is more than just a milestone; it's an opportunity to exponentially increase our visibility, boost our trading volume, and elevate Kendu Inu to new heights.</p>
            <p>This listing will position us perfectly for the upcoming bull run, allowing us to capitalize on market momentum and grow our market capitalization. Your contribution today directly impacts our collective success tomorrow. <strong>We don't gamble; we work.</strong> Let’s achieve greatness together—because with every step, every contribution, and every member, we move closer to our goal.</p>
        </div>
        
        <!-- Impact Calculator Section -->
        <div class="impact-calculator">
            <h3>Impact Calculator</h3>
            <label for="kenduAmount">Enter Kendu Amount:</label>
            <input type="number" id="kenduAmount" placeholder="Enter Kendu token amount">
            <button onclick="calculateImpact('kendu')">Calculate Kendu Impact</button>

            <label for="usdAmount">Enter USD Amount:</label>
            <input type="number" id="usdAmount" placeholder="Enter USD amount">
            <button onclick="calculateImpact('usd')">Calculate USD Impact</button>

            <div class="impact-result" id="impactMessage"></div>
        </div>
    </div>

    <div class="links">
        <a href="https://kenduinu.com" target="_blank">
            <img src="website.jpg" alt="Kendu Inu Website">
        </a>
        <a href="https://kenduchads.com" target="_blank">
            <img src="kenduchads.png" alt="Kendu Chads Website">
        </a>
        <a href="https://x.com/KenduInu" target="_blank">
            <img src="X.jpg" alt="Kendu Inu X">
        </a>
        <a href="https://t.me/KenduInu" target="_blank">
            <img src="telegram.jpeg" alt="Kendu Telegram">
        </a>
    </div>

    <script src="progress.js"></script>
    <script>
        async function fetchBalances() {
            const response = await fetch('/public/balances.json');
            const data = await response.json();
            return data;
        }

         async function initializeCalculator() {
            const balances = await fetchBalances();
            const kenduToUsdRate = balances.kenduBalanceInUsd / balances.kenduBalance;

            const kenduGoal = 70000;
            const usdGoal = 90000;

            function calculateImpact(type) {
                let message = '';
                let progress = 0;

                if (type === 'kendu') {
                    const kenduAmount = parseFloat(removeCommas(document.getElementById('kenduAmount').value));
                    const totalValueInUsd = kenduAmount * kenduToUsdRate;
                    progress = (totalValueInUsd / kenduGoal) * 100;
                    message = `With a donation of ${formatWithCommas(kenduAmount)} Kendu (worth around $${formatWithCommas(totalValueInUsd.toFixed(2))}), you would move us ${progress.toFixed(2)}% closer to the Kendu goal of $${formatWithCommas(kenduGoal)}.`;

                } else if (type === 'usd') {
                    const usdAmount = parseFloat(removeCommas(document.getElementById('usdAmount').value));
                    progress = (usdAmount / usdGoal) * 100;
                    message = `A donation of $${formatWithCommas(usdAmount)} would move us ${progress.toFixed(2)}% closer to the USD goal of $${formatWithCommas(usdGoal)}.`;
                }

                document.getElementById('impactMessage').innerText = message;
            }

            window.calculateImpact = calculateImpact;
        }

        // Format number with commas
        function formatNumber(input) {
            let value = input.value.replace(/,/g, '');
            input.value = formatWithCommas(value);
        }

        // Add commas to a number
        function formatWithCommas(value) {
            return value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        // Remove commas from a number
        function removeCommas(value) {
            return value.replace(/,/g, '');
        }

        // Allow only numbers in input
        function isNumberKey(evt) {
            const charCode = (evt.which) ? evt.which : evt.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            return true;
        }

        initializeCalculator();
    </script>
</body>
</html>
